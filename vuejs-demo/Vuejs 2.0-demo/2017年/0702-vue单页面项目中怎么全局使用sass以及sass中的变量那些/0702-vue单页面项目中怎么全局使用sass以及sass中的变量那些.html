<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>

<!------------------------------------------------------------------------------------->
  
    åœ¨App.vueé‡Œé¢ import common.scss è¿›å»
    å‡å¦‚ common.scssé‡Œé¢ æœ‰ $colorgreen è¿™ä¸ªå˜é‡
    <script>

        // å¼•å…¥ é¡¹ç›®çš„æ ·å¼ ï¼ˆå«æœ‰å…¨å±€æ ·å¼ï¼‰
        import index from '@/assets/css/common.scss'

    </script>

<!------------------------------------------------------------------------------------->

    åœ¨user.vueç»„ä»¶ é‡Œé¢è¦æƒ³ä½¿ç”¨ $colorgreen è¿™ä¸ª å˜é‡
    æ˜¯ä¸èƒ½ç›´æ¥ ä½¿ç”¨çš„ï¼Œå› ä¸ºsassä¸­çš„å˜é‡å¹¶ä¸æ˜¯å…¨å±€çš„,
    æ‰€ä»¥ï¼Œä¸‹é¢è¿™æ ·å­åœ¨å…¶ä»–ç»„ä»¶é‡Œç›´æ¥ä½¿ç”¨ $colorgreen

    æ˜¯ä¼šæŠ¥é”™çš„ï¼Œå› ä¸ºè¿™æ ·å­çš„æƒ…å†µä¸‹ï¼Œå˜é‡å¹¶ä¸æ˜¯å…¨å±€çš„ã€‚

    <style lang="scss">
        
        .aa{
            color:$colorgreen;
        }
         

     </style>

<!------------------------------------------------------------------------------------->
    
    å¯ä»¥åœ¨user.vueç»„å»ºé‡Œï¼Œä½¿ç”¨ä¸‹é¢çš„è¿™ç§æ–¹å¼ åˆ™å¯ä»¥ä½¿ç”¨ $colorgreenè¿™ä¸ªå˜é‡çš„

    ä½†æ˜¯ è‹¥æ˜¯ è¿™æ ·å­å¼•å…¥è¿›å»çš„è¯ï¼Œè™½ç„¶å¯ä»¥ ä½¿ç”¨ $colorgreenè¿™ä¸ªå˜é‡äº†ï¼Œä½†æ˜¯å´é‡å¤å¼•ç”¨äº†
   
    common.scss å¯¼è‡´äº†æ ·æ˜¯çš„ é‡å¤ã€‚ 

    è¿™é‡Œè¦æ³¨æ„çš„æ˜¯  å€˜è‹¥è¦æƒ³åœ¨.vueæ–‡ä»¶é‡Œçš„ styleæ ‡ç­¾é‡Œ ä½¿ç”¨sassæ–‡ä»¶ ä¸­ çš„å˜é‡çš„æ—¶å€™ï¼Œæ˜¯ 
    ä¸èƒ½ ç”¨import  çš„æ–¹å¼å¼•å…¥ sassæ–‡ä»¶ çš„ï¼Œ
    
    åªèƒ½åœ¨ style æ ‡ç­¾é‡Œ  ä½¿ç”¨ @import çš„ æ–¹å¼ 

    å¼•å…¥sass æ–‡ä»¶æ‰èƒ½ åœ¨ .vueæ–‡ä»¶çš„ style æ ‡ç­¾é‡Œ ä½¿ç”¨ è¿™ä¸ªsassæ–‡ä»¶ ä¸­çš„å˜é‡ã€‚

    å¦‚ä¸‹é¢ è¿™æ®µ ä»£ç  æ‰€ç¤º ï¼Œ$colorgreenè¿™ä¸ªå˜é‡æ˜¯æ¥è‡ªäº common.scssè¿™ä¸ª æ–‡ä»¶é‡Œé¢çš„

    æ‰€ä»¥ï¼Œåªèƒ½ç”¨  @import çš„ æ–¹å¼ å¼•å…¥ è¿™ä¸ªsassæ‰è¡Œçš„ ã€‚

    <style lang="scss">

        /*scssè¯­æ³•å°±æ˜¯ç”¨@import*/
        
        @import './../assets/css/common.scss';

        .aa{
            color:$colorgreen;
        }

     </style>

<!------------------------------------------------------------------------------------->
<!------------------------------------------------------------------------------------->

sass-resources-loader

å…ˆ å®‰è£… 

npm install sass-resources-loader --save
npm install sass-resources-loader --save-dev

è¿™ä¸ªä¸œè¥¿å°±å¯ä»¥çœå»åœ¨æ¯ä¸ª.vueé‡Œéƒ½@importä½ éœ€è¦çš„å˜é‡,mixin,functionã€‚

ï¼ˆå®ƒä¸ä»…æ”¯æŒSASSï¼Œè¿˜æ”¯æŒLESSï¼ŒPOSTCSSç­‰ï¼‰ğŸ‘ã€‚

é‚£ä¹ˆåœ¨è¿™é‡Œåˆ†äº«ä¸‹æˆ‘æ˜¯å¦‚ä½•åœ¨vueå·¥ç¨‹é‡Œé…ç½®ï¼š

1.vue-cliæ„å»ºçš„vueå·¥ç¨‹é‡Œï¼Œéƒ½ä¼šæœ‰buildæ–‡ä»¶å¤¹ï¼Œè¿™é‡Œä¸»è¦æ˜¯æ”¾webpackçš„é…ç½®ã€‚

æ‰¾åˆ°utils.js

<!---------------------------------------------------------------------------------->

<script>

//   function generateLoaders (loader, loaderOptions) {

//         //  ...............

//         // Extract CSS when that option is specified
//         // (which is the case during production build)
//         if (options.extract) {
//         return ExtractTextPlugin.extract({
//             use: loaders,
//             fallback: 'vue-style-loader'
//         })
//         } else {
//         return ['vue-style-loader'].concat(loaders)
//         }
//   }

  åœ¨ generateLoaders() è¿™ä¸ª å‡½æ•°ä¸‹å¢åŠ ä¸‹é¢ä¸¤ä¸ª å‡½æ•° 

  å…¶ä¸­  resolveResouce() è¿™ä¸ªå‡½æ•°çš„ ä½œç”¨ å°±æ˜¯æ”¾scssæ–‡ä»¶çš„è·¯å¾„ çš„
  
  è¿™é‡Œ æˆ‘æ˜¯å°† scssæ–‡ä»¶æ”¾åˆ°srcç›®å½•ä¸‹çš„assetsç›®å½•ä¸‹çš„cssæ–‡ä»¶å¤¹ä¸­ ï¼Œæ‰€ä»¥

  è·¯å¾„å†™æˆ '../src/assets/css/'

// -----------------------------------------------------------------------------------------

  generateSassResourceLoader() è¿™ä¸ªå‡½æ•°çš„ ä¸»è¦ä½œç”¨å°±æ˜¯é…ç½® å…¬å…±çš„å…¨å±€çš„sassæ–‡ä»¶

  å¦‚var.scss ä»¥åŠ mixins.scss è¿™ä¸¤ä¸ª scssã€‚ è¿™ä¸¤ä¸ªscsséƒ½æ˜¯  å…¨å±€çš„ scssæ–‡ä»¶ 

  è¿™ä¸¤ä¸ªå…¨å±€çš„scss æ˜¯ä¸ç”¨ å†ç”¨ importçš„æ–¹å¼  å¼•å…¥åˆ°ç»„ä»¶ä¸­ å»çš„äº†ï¼Œ

  å› ä¸ºè¿™ä¸¤ä¸ªscss æ˜¯å…¨å±€ scssæ¥çš„ï¼Œç›´æ¥ å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼Œä¸ç”¨ åœ¨ç”¨import çš„æ–¹å¼å¼•å…¥è¿™ä¸¤ä¸ª

  è¿™ä¸¤ä¸ªå…¨å±€ scss ã€‚è¿™ä¸¤ä¸ªå…¨å±€scss æ”¾ç½®çš„ éƒ½æ˜¯ äº› ç»„ä»¶ å…¬ç”¨çš„ä¸€äº›ä¸œè¥¿ å¦‚ 

  var.scss è¿™ä¸ª scssæ–‡ä»¶æ”¾çš„æ˜¯ å…¨å±€çš„scsså˜é‡é‚£äº›ã€‚

  mixins.scss è¿™ä¸ªscss æ–‡ä»¶æ”¾çš„æ˜¯  å…¨å±€çš„ä¸€äº›èƒ½å¤Ÿé‡å¤çš„ ä¸€äº› ä»£ç å— ã€‚ 
  
// -------------------------------------------------------------------------------

  function resolveResouce(name) {
      return path.resolve(__dirname, '../src/assets/css/' + name);
  }

  function generateSassResourceLoader() {
      var loaders = [
         cssLoader, 
        // 'postcss-loader',
        'sass-loader',
          {
              loader: 'sass-resources-loader',
              options: {
                // it need a absolute path
                resources: [resolveResouce('var.scss'), resolveResouce('mixins.scss')]
              }
          }
      ];
      if (options.extract) {
        return ExtractTextPlugin.extract({
          use: loaders,
          fallback: 'vue-style-loader'
        })
      } else {
        return ['vue-style-loader'].concat(loaders)
      }
  }
// -----------------------------------------------------------------------------------------

 // https://vue-loader.vuejs.org/en/configurations/extract-css.html

è¿˜æœ‰ä¸‹é¢ä¸€æ®µä»£ç  ,ç€é‡çœ‹ ä¸‹é¢é‚£ä¸¤æ®µ è¢«æ³¨è§†äº†çš„ä»£ç  

åˆ†åˆ«æ›¿æ¢ä¸º ä¸‹é¢ä¸¤æ®µ ä»£ç å³å¯.

sass: generateSassResourceLoader(),
scss: generateSassResourceLoader(),

 return {
    css: generateLoaders(),
    postcss: generateLoaders(),
    less: generateLoaders('less'),
    // sass: generateLoaders('sass', { indentedSyntax: true }),
    sass: generateSassResourceLoader(),
    // scss: generateLoaders('sass'),
    scss: generateSassResourceLoader(),
    stylus: generateLoaders('stylus'),
    styl: generateLoaders('stylus')
 }

</script>

<!-------------------------------------------------------------------------------------->

</body>
</html>