<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

    <script>

          state: {
              singer:{},
              playing:false,
              fullScreen:false,
              playlist:[],
              sequencelist:[],
              mode:playMode.sequence,
              currentIndex:-1,
              disc:{
              }
          },
          // action里面
          // action里面是不能直接修改 state 里面的数据的，不然会报错的。
          insertSong({commit,state},song){
               // 之所以 加上 slice 的目的 是不能再actions里面直接修改state里面的数据。

               // 变量跟数组是按引用传递的，需加上slice,不然会直接改变原来的数据的。
               // 变量跟数组是按引用传递的，需加上slice,不然会直接改变原来的数据的。

               let playlist = state.playlist.slice(0)
               let sequencelist = state.sequencelist.slice(0)

               // 这些是按值传递的
               let currentIndex = state.currentIndex

               // 记录当前歌曲
               let currentSong = playlist[currentIndex]

               playlist.splice(currentIndex,0,song)
           }

    </script>

</body>

</html>
