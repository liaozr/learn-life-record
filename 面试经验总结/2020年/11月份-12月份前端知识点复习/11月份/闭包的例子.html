<html>

    
闭包是一个可以访问其他作用域的变量的函数

产生的原因

首先要了解作用域链的概念，函数的作用域就是它所创建的地方，也就是说，函数在它被创建的时候就已经确定好它的作用域了。


函数在执行的时候遇到一个变量，他会先看看自己的作用域里有没有该变量，没有的话就会向上从父级作用域里去查找，直到找到位置，否则报错undefined


function f1() {
     var a = 1;

    function f2() {
        console.log(a);
    }
    f2();
}
f1()//1


所以闭包的本质就是 存在对父级作用域的引用，这里注意，上面的代码并不是闭包，我们并没有通过调用f1()来访问到不属于它作用域的变量

，因为a本来就属于f1,我们只是通过f1调用了f2而已。


我们把上面的例子改造成闭包的形式，我们要在外面调用f2


function f1() {
    var a = 1;

    var f2 = function() {
        console.log(a);
    }
    return f2

}
const clousure = f1();
clousure();//1


我们把f2作为返回值，在外部进行调用，可以看到我们可以访问到f1的变量，这就是闭包，

也说明f2的作用域就是它所创建时的地方，而不是调用时的地方。


<script>
   
var a  =2

function f1() {
    var a = 1;

    var f2 = function() {
        //console.log(a);
        return a
    }
    return f2

}
const clousure = f1();

// clousure();//1

console.log (clousure() )


</script>


闭包的特征

函数内再嵌套函数

内部函数可以引用外层的参数和变量

参数和变量不会被垃圾回收制回收


</html>