<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>

<!---------------------------------------------------------------------------------------------------------------------------------->

  <script>

    // onLoad事件里面一般放的是进入页面要请求的数据
		onLoad(){
		  this.getNewsList()	
		}

    //  pages.json 配置文件

    // 这个文件里，页面的配置文件会覆盖全局的配置文件
    // 这个文件里面，字段都是要加双引号的，加了双引号后，才会有编码提示

    // hbuilderx这个编辑器，如果要想生成页面路由，或者页面组件的时候，直接点新建页面即可
    // 它会自动生成文件夹，且自动会在pages.json文件配置了页面路由，很是方便

  </script>

<!---------------------------------------------------------------------------------------------------------------------------------->

 实现 上拉加载 和 下拉刷新

 {
  "path" : "pages/goods/goods",
  "style" :                                                                                    
  {
      "navigationBarTitleText": "商品列表",
      "enablePullDownRefresh": true  // 开启下拉刷新
  } 
}

<!---------------------------------------------------------------------------------------------------------------------------------->
  
<!-- 调取手机拨打电话功能 -->
<!-- 调取手机拨打电话功能 -->

  phone() {
    uni.makePhoneCall({
      phoneNumber: '400-618-9090'
    })
  }	 

<!---------------------------------------------------------------------------------------------------------------------------------->
<!---------------------------------------------------------------------------------------------------------------------------------->


map 地图插件

<map class="map" :longitude="longitude" :scale="scale" :latitude="latitude" :markers="markers"></map>

<script>

	export default {
		data() {
			return {
				longitude: 120.363172,
				latitude: 30.312212,
				scale: 13,
				markers:[
					{
						longitude: 120.363172,
						latitude: 30.312212,
						iconPath: '../../static/hmlogo.png',
						width: 30,
						height: 30
					}
				]
			}
		},
		methods: {
			phone() {
				uni.makePhoneCall({
					phoneNumber: '400-618-9090'
				})
			}	 
		}
	}

</script>

<!---------------------------------------------------------------------------------------------------------------------------------->
<!---------------------------------------------------------------------------------------------------------------------------------->
 

It's not allowed to load an initial chunk on demand. The chunk name "components/goodsList/goodsList" is already used by an entrypoint.

运行到微信小程序时，提示报错，报错原因是

当创建文件夹的时候 pages.json里面注册了这个组件的然而我们是不需要当一个页面的，例如公共组件，components下的文件是不需要出现在pages.json文件下的


<!---------------------------------------------------------------------------------------------------------------------------------->
<!---------------------------------------------------------------------------------------------------------------------------------->

uni 实现区域滚动

scroll-view为纵向滚动组件 

scroll-y 表示可以纵向滚动

<scroll-view class="left" scroll-y>

  <view @click="changeItem(item,index)" class="list" :class="{'active':curIndex == index}" v-for="(item,index) in list">
     {{item.title}}
  </view>	

</scroll-view>


<style>
  /* App.vue 增加如下样式可以去除 scroll-view 组件的滚动条（不支持nvue页面） */
	::-webkit-scrollbar {  
	    display: none;  
	    width: 0 !important;  
	    height: 0 !important;  
	    -webkit-appearance: none;  
	    background: transparent;  
	}
</style>


<!---------------------------------------------------------------------------------------------------------------------------------->
<!---------------------------------------------------------------------------------------------------------------------------------->
   
  实现图片的放大预览

  <script>

      preview(currentUrl){

        let urlArr = this.datalist.map((item) =>{
          return item.url 
        })

        uni.previewImage({
          urls:urlArr,  // 要预览的图片集合
          current:currentUrl // 当前要预览的图片

        })

      }

  </script>

<!---------------------------------------------------------------------------------------------------------------------------------->
<!---------------------------------------------------------------------------------------------------------------------------------->

导航跳转

<script>
  methods: {
    goDetail () {
        // 普通的跳转页面
        uni.navigateTo({
            url: '/pages/detail/detail?id=80&age=19'
        })
    },
    goMessage () {
        // 跳转到tabBar页面
        uni.switchTab({
            url: '/pages/message/message'
        })
    },
    toDetail(item){
			  let id = item.id
			  uni.navigateTo({
			  	url:`/pages/news-detail/news-detail?id=${id}`
			  })
		},
  },
  // 下一个页面接收参数
  onLoad(option){
		let id = option.id
		this.getNewsDetail(id)
	}

</script>    

<!---------------------------------------------------------------------------------------------------------------------------------->
<!---------------------------------------------------------------------------------------------------------------------------------->

rich-text 组件 渲染的是含有 html 标签的内容，

常用于解析新闻或者商品详情页面的详情内容。类似与 vue 中的 v-html

<view class="content news-detail-content">

  <rich-text :nodes="detail.contentDetails"></rich-text>

</view>

<!---------------------------------------------------------------------------------------------------------------------------------->
<!---------------------------------------------------------------------------------------------------------------------------------->

<script>
  if(process.env.NODE_ENV === 'development'){
      console.log('开发环境')
  }else{
      console.log('生产环境')
  }
</script>

<!---------------------------------------------------------------------------------------------------------------------------------->
<!---------------------------------------------------------------------------------------------------------------------------------->

运行期判断 运行期判断是指代码已经打入包中，仍然需要在运行期判断平台，

此时可使用 uni.getSystemInfoSync().platform 判断客户端环境是 Android、iOS 还是小程序开发工具

<script>

  switch(uni.getSystemInfoSync().platform){
    case 'android':
        console.log('运行Android上')
        break;
    case 'ios':
        console.log('运行iOS上')
        break;
    default:
        console.log('运行在开发者工具上')
        break;
  }

</script>

<!---------------------------------------------------------------------------------------------------------------------------------->
<!---------------------------------------------------------------------------------------------------------------------------------->


</body>

</html>