<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
</head>
<body>

<script>
	
	// 在App.vue文件上

	export default {
		onLaunch: function() {
			console.log('App Launch')
			// 检测更新
			// 网络监听
			// 初始化数据
			
			// 监听网络状态
			uni.getNetworkType({
			    success: function (res) {
					console.log('获取')
			        console.log(res.networkType);
					if(res.networkType === 'none'){
						uni.showToast({
							title:'当前处于断网状态',
							icon:'none'
						})
					}
			    }
			});
			// 网络发生变化时，触发的回调
			uni.onNetworkStatusChange(function (res) {
				console.log('监听')
			    console.log(res.isConnected);
			    console.log(res.networkType);
				
				if(res.networkType === 'none'){
					uni.showToast({
						title:'当前处于断网状态，请先连接网络',
						icon:'none'
					})
				}
			});
		},
		onShow: function() {
			console.log('App Show')
		},
		onHide: function() {
			console.log('App Hide')
		}
	}
</script>
</body>
</html>