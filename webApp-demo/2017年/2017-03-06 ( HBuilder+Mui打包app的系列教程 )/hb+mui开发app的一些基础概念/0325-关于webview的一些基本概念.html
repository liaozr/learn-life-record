<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>

<!-- ------------------------------------------------------------------------------- -->

在 用mui开发 app的时候

每个页面其实就是对应一个WebView对象。

每个WebView有自己的javascript运行环境，各个WebView之间不会干扰。

同时，所有WebView会共享storage，session等信息。

<!-- ------------------------------------------------------------------------------- -->

mui一个重要的潜规则，父子结构的页面子页面会比父页面层级高，

说白了就是子页面可以盖住父页面。

这会导致开发者常犯的一个错误：

将弹出层或者弹出菜单写在父页面被子页面盖住的bug。

<!-- ------------------------------------------------------------------------------- -->

前段时间群里某网友的问题，弹出菜单被子页面挡住了这个老生常谈的问题，

其实只要明白webview常见的层级问题，这个问题很容易解释，

那么解决方案自然很容易想到，如果没有理解错，

html5+里面webview的创建规则是后来居上原则，

所以如果想解决那个问题，有两种解决办法：

将弹出菜单放在子页面里面，然后父子页面之间传值，这种方法实用于单个子页面的情况，对于多页面可能并不方便。

第二个方法是将弹出菜单放在一个webview里面，设置为透明背景，这样就可以在保证在最上面同时可以盖住底部的内容，在android上创建菜单webview的时候设置background为"transparent"可以实现

<!-- ------------------------------------------------------------------------------- -->

每一个 webview页面 都建议 写一个 init()方法，用于 webview之间的通信 以及状态的变化。

<script>
	  function init(){

		}
</script>

<!-- ------------------------------------------------------------------------------- -->

每次迁移到新的画面的时候，打开了一个新的WebView，

但是旧的WebView其实还停留在那里，只不过新的WebView覆盖在了上面。

当然，如果你直接使用plus.Webview的方法，如create, show 是可以的。

但是HBuilder给我们提供了更好的方法，就是 mui 库的 openWindow, preload 等方法。

但是我们一定要知道，一个 webview 的生命周期是需要我们自己维护的。

<!-- ----------------------------------------------------------------------------- -->

 很多实例都表明，有一些操作，如滚动等操作，靠 DIV 来模仿是非常慢的。

但是，一个 webview 就是一个页面实例，在一个页面实例里，一些如滚动的操作，是通过浏览器内核来实现的，

速度远远超过 javascript 的效率。

所以，HBuilder 的帮助上面，也建议大家一定的场合要使用多个webview 组合的方式。

 <!-- ----------------------------------------------------------------------------- -->



</body>
</html>
