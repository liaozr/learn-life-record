<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
<!-- --------------------------------------------------------------------------------- -->

小结

如果要判断一个运行中的函数的this的绑定，就需要找到这个函数的直接调用位置。

找到之后就可以顺序应用下面的四条规则来判断this的绑定对象：

<!-- --------------------------------------------------------------------------------- -->

由new调用？绑定到新创建的对象

由call或 apply或bind调用？绑定到指定的对象

由上下文对象调用？绑定到那个上下文对象

默认：在严格模式下，绑定到undefined，否则绑定到全局对象。

<!-- --------------------------------------------------------------------------------- -->

一定要注意，有些调用可能在无意中使用默认绑定规则，如果想“更安全”地忽略this绑定，你可以使用一个DMZ对象，比如

ø=Object.create(null),以保护全局对象。

ES6中的箭头函数并不会使用四条标准的绑定规则，而是根据当前的词法作用域来决定this,具体来说，箭头函数会继承外层函数调用的this绑定（无论this绑定到哪里）。这其实和ES6之前代码中的self=this的机制一样。

<!-- --------------------------------------------------------------------------------- -->

</body>
</html>
