<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link href="css/index-mzb.css" rel="stylesheet" type="text/css">
    <link href="css/idangerous.swiper.css" rel="stylesheet" type="text/css">


    <script src="js/jquery.js"></script>
    <script src="js/idangerous.swiper.min.js"></script>
</head>

<body>
    <div class="section section8 swiper-container" id="page8">
        <ul class="swiper-wrapper">
            <li class="li1 swiper-slide">
                <div>
                    <h2 class="animated opa0" data-delay="100" data-name="fadeInUp2">价廉物美服务好</h2>
                    <h3 class="animated opa0" data-delay="300" data-name="fadeInUp2">花个大价钱、买个笨软件，还只能在办公室自娱自乐，这是过去多数厂家、经销商的遭遇。</h3>
                    <h3 class="animated opa0" data-delay="500" data-name="fadeInUp2">【买砖宝】是大平台、大软件，真正解决门店卖砖的痛点问题，但只收少许平台入驻费。</h3>
                </div>
            </li>
            <li class="li2 swiper-slide">
                <div>
                    <h2 class="animated opa0" data-delay="100" data-name="fadeInUp2">瓷砖全品类铺贴</h2>
                    <h2 class="animated opa0" data-delay="300" data-name="fadeInUp2">覆盖瓷砖全品类，只要是砖就能换</h2>
                    <h3 class="animated opa0" data-delay="500" data-name="fadeInUp2">【买砖宝】拥有瓷砖铺贴属性自动匹配技术，能够自动识别不同类型瓷砖所对应的铺贴位置，</h3>
                    <h3 class="animated opa0" data-delay="700" data-name="fadeInUp2">并提供多种铺贴方式选择，让你在最短的时间找到你最想要的铺贴效果。</h3>
                    <div class="img animated opa0" data-delay="900" data-name="fadeInUp2" style="width:736px;height:435px;background:url(img/sec802.png) no-repeat;"></div>
                </div>
            </li>
            <li class="li3 swiper-slide">
                <div>
                    <h2 class="animated opa0" data-delay="100" data-name="fadeInUp2">合作商户</h2>
                    <div class="img animated opa0" data-delay="300" data-name="fadeInUp2" style="width:838px;height:442px;background:url(img/sec803.png) no-repeat;"></div>
                </div>
            </li>
        </ul>

        <div class="nav">
            <!--<span lang='1' class="che"></span><span lang='2'></span><span lang='3'></span>-->
        </div>
        <div class="lr-btn">
            <a class="left-btn"></a>
            <a class="right-btn"></a>
        </div>
    </div>
    <script>
        var mySwiper = new Swiper('.swiper-container', {
                autoplay: 10000,
                speed: 800,
                loop: true,
                resizeReInit: true,
                keyboardControl: true,
                pagination: '.nav',
                paginationClickable: true,
                // onSlideChangeEnd
                // 为slider切换结束时执行的代码，这里也相当于回调函数
                onSlideChangeEnd: function(swiper) {
                    var index = swiper.activeLoopIndex;
                    console.log(index)
                    $('.section8 .opa0').removeClass('fadeInUp2');
                    if (index == 0) {
                        startAnimate($('.section8 .li1 .animated'));
                    }
                    if (index == 1) {
                        startAnimate($('.section8 .li2 .animated'));
                    }
                    if (index == 2) {
                        startAnimate($('.section8 .li3 .animated'));
                    }
                }
         })
        //执行动画
        function startAnimate(obj) {
            obj.each(function() {
                var animate_name = $(this).attr('data-name');
                var animate_delay = $(this).attr('data-delay');
                var _this = $(this);
                setTimeout(function() {
                    _this.addClass(animate_name);
                }, animate_delay);
            });
        }

        // swiper切换时 点击左右箭头，也能进行左右切换的效果。
        $('.lr-btn a').click(function() {
            var index = $(this).index();
            if (index == 0) {
                mySwiper.swipePrev();
            } else {
                mySwiper.swipeNext();
            }
        });

    </script>
</body>

</html>
