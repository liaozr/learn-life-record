//tealium universal tag - utag.373960872 ut4.0.201610220659, Copyright 2016 Tealium.com Inc. All Rights Reserved.
var $CVO=window.$CVO||[];try{var start=new Date().getTime();(function(id,loader,u){try{u=utag.o[loader].sender[id]={}}catch(e){u=utag.sender[id]};u.ev={'view':1};u.attr={};u.clientid='ibm';u.event_type="";u.event_id="";u.event_value="";u.base_url='//d1ivexoxmp59q7.cloudfront.net/'+u.clientid+'/live.js';u.map={};u.extend=[function(a,b){try{var start=new Date().getTime();var ConvertroConfig={TAG_NAME:'Convertro',TAG_ENABLED_PATH:'digitalData.page.pageInfo.convertro.enabled',TAG_RAN_PATH:'digitalData.page.pageInfo.convertro.ran',VENDOR_TAG_RAN_OBJECT_PATH:'__cvo',ENABLED:'TRUE',RAN:'TRUE'};var tagStatus=window.checkTagActivation(ConvertroConfig);if(tagStatus===window.CHECK_TAG_ACTIVATION_STATUS.ENABLED){if(window.IBMDependencyRegistry)window.IBMDependencyRegistry.on(['tealium.convertro.loaded'],tagLoadedCallback);return true;}else if(tagStatus===window.CHECK_TAG_ACTIVATION_STATUS.RAN){u.initialized=true;return false;}else{return false;}}catch(error){window.TealiumLog.error('Error while running Convertro extension. Error is: '+error);return false;}finally{var end=new Date().getTime();window.TealiumLog.log('Convertro extension took '+(end-start)+' milli seconds to run');}
function tagLoadedCallback(){try{var retroactive=true;if(window.EVENT_FORM_REGISTRATION_COMPLETED){window.IBMSimpleEventRouter.addListener(window.EVENT_FORM_REGISTRATION_COMPLETED.name,tagLoadEventsCallback,retroactive);}
if(window.EVENT_REGISTRATION_COMPLETED){window.IBMSimpleEventRouter.addListener(window.EVENT_REGISTRATION_COMPLETED.name,tagLoadEventsCallback,retroactive);}
if(window.EVENT_LIVECHAT_ACCEPTED){window.IBMSimpleEventRouter.addListener(window.EVENT_LIVECHAT_ACCEPTED.name,tagLoadEventsCallback,retroactive);}
if(window.EVENT_EXTERNAL_LINK){window.IBMSimpleEventRouter.addListener(window.EVENT_EXTERNAL_LINK.name,tagLoadEventsCallback,retroactive);}
if(window.EVENT_TRIAL_SIGNUP_COMPLETED){window.IBMSimpleEventRouter.addListener(window.EVENT_TRIAL_SIGNUP_COMPLETED.name,tagLoadEventsCallback,retroactive);}
if(window.EVENT_DEMO_COMPLETED){window.IBMSimpleEventRouter.addListener(window.EVENT_DEMO_COMPLETED.name,tagLoadEventsCallback,retroactive);}
if(window.EVENT_OTHER_FORMS_COMPLETED){window.IBMSimpleEventRouter.addListener(window.EVENT_OTHER_FORMS_COMPLETED.name,tagLoadEventsCallback,retroactive);}
if(window.EVENT_DOWNLOAD_COMPLETED){window.IBMSimpleEventRouter.addListener(window.EVENT_DOWNLOAD_COMPLETED.name,tagLoadEventsCallback,retroactive);}}catch(error){window.TealiumLog.error('Error in tagLoadedCallback function. Error is: '+error);}}
function tagLoadEventsCallback(event){try{var prefix=getPrefixName(event)||'';window.$CVO=window.$CVO||[];window.TealiumLog.log('Running Convertro trackEvent');$CVO.push(['trackEvent',{type:'Conversion',id:prefix+'-'+digitalData.page.session.uSessionID+'-'+digitalData.page.session.pageloadEpoch,amount:'1'}]);window.TealiumLog.log('Running Convertro trackUser');$CVO.push(['trackUser',{id:''+digitalData.user.profile.uuid}]);}catch(error){window.TealiumLog.error('Convertro track event/user error: '+error);}}
function getPrefixName(event){try{var prefix='';if(!event||!event.name)return prefix;switch(event.name){case window.EVENT_FORM_REGISTRATION_COMPLETED.name:prefix='MRS';break;case window.EVENT_REGISTRATION_COMPLETED.name:prefix='EVT';break;case window.EVENT_LIVECHAT_ACCEPTED.name:prefix='LC';break;case window.EVENT_EXTERNAL_LINK.name:prefix='EXTL';break;case window.EVENT_TRIAL_SIGNUP_COMPLETED.name:prefix='IBMID';break;case window.EVENT_DEMO_COMPLETED.name:prefix='IBMID';break;case window.EVENT_OTHER_FORMS_COMPLETED.name:prefix='IBMID';break;case window.EVENT_DOWNLOAD_COMPLETED.name:prefix='IBMID';break;}
return prefix;}catch(error){window.TealiumLog.error('Convertro prefix computation error: '+error);return'';}}}];u.callBack=function(){try{window.IBMDependencyRegistry.emit('tealium.convertro.loaded');}catch(error){window.TealiumLog.error('Error while emiting tealium.convertro event. Error is: '+error);}};u.send=function(a,b,c,d,e,f){if(u.ev[a]||typeof u.ev.all!='undefined'){for(c=0;c<u.extend.length;c++){try{d=u.extend[c](a,b);if(d==false)return}catch(e){}};for(d in utag.loader.GV(u.map)){if(typeof b[d]!=="undefined"&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){if(e[f]=="event_type"||e[f]=="event_id"||e[f]=="event_value"){u[e[f]]=b[d];}else{u.attr[e[f]]=b[d];}}}}
if(!u.initialized){u.initialized=true;u.s=document.getElementsByTagName("script")[0];u.scr=document.createElement("script");u.scr.type="text/javascript";u.scr.src=u.base_url;u.scr.id="utag_373960872";if(u.scr.addEventListener){u.scr.addEventListener("load",function(){u.callBack()},false);}else{u.scr.onreadystatechange=function(){if(this.readyState=='complete'||this.readyState=='loaded'){this.onreadystatechange=null;u.callBack()}}}
u.s.parentNode.insertBefore(u.scr,u.s);}}}
try{utag.o[loader].loader.LOAD(id)}catch(e){utag.loader.LOAD(id)}})('373960872','ibm.main');}catch(e){}
finally{var end=new Date().getTime();window.TealiumLog.log('Convertro tag took '+(end-start)+' milli seconds to run');}
