<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>

数组和对象字面量

用数组和对象字面量来代替数组和对象构造器。数组构造器很容易让人在它的参数上犯错。

不推荐
js 代码:

<script>
    // Length is 3.
    var a1 = new Array(x1, x2, x3);

    // Length is 2.
    var a2 = new Array(x1, x2);

    // If x1 is a number and it is a natural number the length will be x1.
    // If x1 is a number but not a natural number this will throw an exception.
    // Otherwise the array will have one element with x1 as its value.
    var a3 = new Array(x1);

    // Length is 0.
    var a4 = new Array();
</script>

正因如此，如果将代码传参从两个变为一个，那数组很有可能发生意料不到的长度变化。

为避免此类怪异状况，请总是采用更多可读的数组字面量。

推荐
js 代码:

<script>
    var a = [x1, x2, x3];
    var a2 = [x1, x2];
    var a3 = [x1];
    var a4 = [];
</script>

<!-- ----------------------------------------------------------------------------- -->

对象构造器不会有类似的问题，但是为了可读性和统一性，我们应该使用对象字面量。

不推荐
js 代码:

<script>
    var o = new Object();
    var o2 = new Object();
    o2.a = 0;
    o2.b = 1;
    o2.c = 2;
    o2['strange key'] = 3;
</script>

应该写成这样：
推荐
js 代码:

<script>
    var o = {};

    var o2 = {
        a: 0,
        b: 1,
        c: 2,
        'strange key': 3
    };
</script>

<!-- -------------------------------------------------------------------------------- -->

字符串

统一使用单引号(‘)，不使用双引号(“)。这在创建 HTML 字符串非常有好处：

js 代码:

<script>
    var msg = 'This is some HTML <div class="makes-sense"></div>';
</script>

<!-- -------------------------------------------------------------------------------- -->

三元条件判断（if 的快捷方法）

用三元操作符分配或返回语句。

在比较简单的情况下使用，避免在复杂的情况下使用。

没人愿意用 10 行三元操作符把自己的脑子绕晕。

不推荐
js 代码:

<script>
    if (x === 10) {
        return 'valid';
    } else {
        return 'invalid';
    }
</script>

推荐
js 代码:

<script>
    return x === 10 ? 'valid' : 'invalid';
</script>

<!-- ------------------------------------------------------------------------------- -->

</body>
</html>
