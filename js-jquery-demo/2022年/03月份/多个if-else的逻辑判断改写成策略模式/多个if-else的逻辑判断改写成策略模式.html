<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
--------------------------------------------------------------------------------------------------		
		
		<script>	
		
			function checkAuth(data) {
			   if (data.role !== 'juejin') {
				 console.log('ä¸æ˜¯æ˜é‡‘ç”¨æˆ·');
				 return false;
			   }
			   if (data.grade < 1) {
				 console.log('æ˜é‡‘ç­‰çº§å°äº 1 çº§');
				 return false;
			   }
			   if (data.job !== 'FE') {
				 console.log('ä¸æ˜¯å‰ç«¯å¼€å‘');
				 return false;
			   }
			   if (data.type !== 'eat melons') {
				 console.log('ä¸æ˜¯åƒç“œç¾¤ä¼—');
				 return false;
			   }
			}
			
		</script>
		
		checkAuth å‡½æ•°ä¼šçˆ†ç‚¸ ğŸ’¥
		
		ç­–ç•¥é¡¹æ— æ³•å¤ç”¨

		
		å…¶å®ç­–ç•¥æ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³å’Œ if elseå¦‚å‡ºä¸€è¾™ï¼Œæ ¹æ®ä¸åŒçš„keyåŠ¨æ€çš„æ‰¾åˆ°ä¸åŒçš„ä¸šåŠ¡é€»è¾‘
		
		
		æˆ‘ä»¬å¯ä»¥ç”¨ç­–ç•¥æ¨¡å¼å»ä¼˜åŒ–ä¸Šè¿°ä»£ç ï¼š
		
		å®šä¹‰ : è¦å®ç°æŸä¸€ä¸ªåŠŸèƒ½ï¼Œæœ‰å¤šç§æ–¹æ¡ˆå¯ä»¥é€‰æ‹©ã€‚æˆ‘ä»¬å®šä¹‰ç­–ç•¥ï¼ŒæŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ï¼Œå¹¶ä¸”ä½¿å®ƒä»¬å¯ä»¥ç›¸äº’è½¬æ¢ã€‚
		
		<script>
			// ç»´æŠ¤æƒé™åˆ—è¡¨
			const jobList = ['FE', 'BE'];
			// ç­–ç•¥
			let strategies = {
			  checkRole: function(value) {
				return value === 'juejin';
			  },
			  checkGrade: function(value) {
				return value >= 1;
			  },
			  checkJob: function(value) {
				return jobList.indexOf(value) > 1;
			  },
			  checkEatType: function(value) {
				return value === 'eat melons';
			  }
			};
			
			console.log(strategies['checkRole']('juejin'))  //true
			console.log(strategies.checkRole('juejin'))   //true
			
		</script>
		
-------------------------------------------------------------------------------------------------
   
    <!-- ç²—ç³™çš„è¡¨å•æ ¡éªŒ -->
	<script>

		// ç²—ç³™çš„è¡¨å•æ ¡éªŒ

		loginForm.onsubmit = function (e) {
			e.preventDefault();  
			var account = document.getElementById("account").value;
			var pwd = document.getElementById("password").value;

			if(account===null||account===''){
				alert('æ‰‹æœºå·ä¸èƒ½ä¸ºç©º')
				return false;
			}
			if(pwd===null||pwd===''){
				alert('å¯†ç ä¸èƒ½ä¸ºç©º')
				return false;
			}
			if (!/(^1[3|4|5|7|8][0-9]{9}$)/.test(account)) {
				alert('æ‰‹æœºå·æ ¼å¼é”™è¯¯')
				return false;
			}
			if(pwd.length<6){
				alert('å¯†ç ä¸èƒ½å°äºå…­ä½')
				return false;
			}
			// ajax å‘é€è¯·æ±‚
		}

// -------------------------------------------------------------------------------------------------		

		// ä¼˜ç§€çš„è¡¨å•éªŒè¯

		var strategies = {
			isNonEmpty: function (value, errorMsg) {
				if (value === '' || value === null) {
					return errorMsg;
				}
			},
			isMobile: function (value, errorMsg) { // æ‰‹æœºå·ç æ ¼å¼
				if (!/(^1[3|4|5|7|8][0-9]{9}$)/.test(value)) {
					return errorMsg;
				}
			},
			minLength: function (value, length, errorMsg) {
				if (value.length < length) {
					return errorMsg;
				}
			}
		};

		loginForm.onsubmit = function (e) {
			e.preventDefault(); 
			var accountIsMobile = strategies.isMobile(account,'æ‰‹æœºå·æ ¼å¼é”™è¯¯');
			var pwdMinLength = strategies.minLength(pwd,8,'å¯†ç ä¸èƒ½å°äº8ä½');
			var errorMsg = accountIsMobile || pwdMinLength; 
			if(errorMsg){
				alert(errorMsg);
				return false;
			}
		}
	</script>

----------------------------------------------------------------------------------------------------


	</body>
</html>
