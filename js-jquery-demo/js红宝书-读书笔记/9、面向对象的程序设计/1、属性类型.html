<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>

<!-- ---------------------------------------------------------------------------------- -->

要修改属性默认的特性，

必须使用ECMAScript 5的Object.defineProperty()方法。

这个方法接受三个参数：属性所在对象，属性名和一个描述符对象。

其中描述符对象的属性值必须是：configurable、enumerable、writable和value。设置其中一个或多个。

<script>

    var person = {};
    Object.defineProperty(person, 'name', {
        writable: false,
        value: 'Yeaseon'
    });
    
</script>

Object.defineProperty()方法不能对configurable: false的对象进行修改。

<!-- ---------------------------------------------------------------------------------- -->

访问器属性

[[Configurable]]: 表示能否通过delete删除属性从而重新定义属性，能否修改属性的特性，或者能否把属性修改为数据属性。

[[Enumerable]]: 表示能否通过for-in循环返回属性。

[[Get]]: 在读取属性时调用的函数，默认undefined

[[Set]]: 在写入属性时调用的函数，默认undefined

<script>

    var book = {
        _year: 2004,
        edition: 1
    };

    Object.defineProperty(book, "year", {
        get: function() {
            return this._year;
        },
        set: function(newValue) {
            if (newValue > 2004) {
                this._year = newValue;
                this.edition += newValue - 2004;
            }
        }
    });

    book.year = 2005;
    alert(book.edition); //2

    console.log(book)
    // Object {_year: 2005, edition: 2}

</script>

<!-- ---------------------------------------------------------------------------------- -->




</body>
</html>
